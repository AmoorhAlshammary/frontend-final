[{"C:\\Users\\laser\\Desktop\\project final\\frontend-final\\src\\index.js":"1","C:\\Users\\laser\\Desktop\\project final\\frontend-final\\src\\App.js":"2","C:\\Users\\laser\\Desktop\\project final\\frontend-final\\src\\components\\Navbar.js":"3","C:\\Users\\laser\\Desktop\\project final\\frontend-final\\src\\components\\Login.js":"4","C:\\Users\\laser\\Desktop\\project final\\frontend-final\\src\\components\\AddDecoration.js":"5","C:\\Users\\laser\\Desktop\\project final\\frontend-final\\src\\components\\SignUp.js":"6","C:\\Users\\laser\\Desktop\\project final\\frontend-final\\src\\components\\Decoration.js":"7","C:\\Users\\laser\\Desktop\\project final\\frontend-final\\src\\components\\Reservation.js":"8","C:\\Users\\laser\\Desktop\\project final\\frontend-final\\src\\components\\OneDecoration.js":"9","C:\\Users\\laser\\Desktop\\project final\\frontend-final\\src\\components\\UserReservation.js":"10","C:\\Users\\laser\\Desktop\\project final\\frontend-final\\src\\components\\Home.js":"11"},{"size":331,"mtime":1641162152896,"results":"12","hashOfConfig":"13"},{"size":1942,"mtime":1641385304911,"results":"14","hashOfConfig":"13"},{"size":1762,"mtime":1641285070780,"results":"15","hashOfConfig":"13"},{"size":2217,"mtime":1641388392461,"results":"16","hashOfConfig":"13"},{"size":1524,"mtime":1641379880359,"results":"17","hashOfConfig":"13"},{"size":2251,"mtime":1641080662000,"results":"18","hashOfConfig":"13"},{"size":2256,"mtime":1641381931903,"results":"19","hashOfConfig":"13"},{"size":1713,"mtime":1641287077277,"results":"20","hashOfConfig":"13"},{"size":5564,"mtime":1641296311182,"results":"21","hashOfConfig":"13"},{"size":1738,"mtime":1641286619601,"results":"22","hashOfConfig":"13"},{"size":1079,"mtime":1641372422849,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"164zzoq",{"filePath":"27","messages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"31","messages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"37","messages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"39","messages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"41","messages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"26"},{"filePath":"44","messages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\laser\\Desktop\\project final\\frontend-final\\src\\index.js",[],["48","49"],"C:\\Users\\laser\\Desktop\\project final\\frontend-final\\src\\App.js",[],"C:\\Users\\laser\\Desktop\\project final\\frontend-final\\src\\components\\Navbar.js",[],"C:\\Users\\laser\\Desktop\\project final\\frontend-final\\src\\components\\Login.js",[],"C:\\Users\\laser\\Desktop\\project final\\frontend-final\\src\\components\\AddDecoration.js",[],"C:\\Users\\laser\\Desktop\\project final\\frontend-final\\src\\components\\SignUp.js",[],"C:\\Users\\laser\\Desktop\\project final\\frontend-final\\src\\components\\Decoration.js",["50"],"C:\\Users\\laser\\Desktop\\project final\\frontend-final\\src\\components\\Reservation.js",[],"C:\\Users\\laser\\Desktop\\project final\\frontend-final\\src\\components\\OneDecoration.js",["51","52","53"],"import {useEffect, useState} from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport axios from 'axios';\n\n\nfunction OneDecoration({token, user}) {\n    const { id } = useParams();\n    //console.log(id);\n\n    const [decorationId, setDecorationId] = useState('')\n    const [name, setName] = useState('')\n    const [description, setDescription] = useState('')\n    const [price, setPrice] = useState(0)\n    const [img, setImg] = useState('')\n\n\n    const [reservation, setReservation] = useState(null);\n\n    const history = useHistory();\n\n    useEffect(()=> {\n      // console.log('use effect')\n      const getOneDecoration = async ()=>{\n          if(token){\n            // console.log(\"kkkkkk\");\n            const response = await axios.get(`http://localhost:5000/decoration/${id}`, { headers: { authorization: `Bearer ${token}` } });\n            // console.log(response.data);\n            setDecorationId(response.data.oneDecoration._id);\n            setName(response.data.oneDecoration.name);\n            setDescription(response.data.oneDecoration.description);\n            setImg(response.data.oneDecoration.img);\n            setPrice(response.data.oneDecoration.price);\n\n            setReservation(response.data.reservation);\n            \n          }else{\n            history.push('/login');\n          }\n      }\n        getOneDecoration();\n    }, []);\n\n\n\n    const postReserve = async () => {\n      // console.log(decorationId, user._id)\n        try {\n      \n          const response = await axios.post(\"http://localhost:5000/reservation\", {\n            decorationId: decorationId,\n            userId: user._id,\n            date: new Date()\n          },\n            { headers: { authorization: `Bearer ${token}` } }\n          )\n          // console.log(response)\n          history.push(`/reservation/user/view`)\n        } catch (error) {\n          console.log(error)\n        }\n    }\n\n    const cancelReservation = async () => {\n        try {\n  \n          const response = await axios.delete(`http://localhost:5000/reservation/${reservation._id}`,\n            { headers: { authorization: `Bearer ${token}` } }\n          )\n          // console.log(response)\n          history.push('/decoration')\n        } catch (error) {\n          console.log(error)\n        }\n    }\n\n\n    // admin functions\n    const updateDecoration = async ()=>{\n      try {\n        const response = await axios.put('http://localhost:5000/decoration',{\n          id: decorationId,\n          name,\n          description,\n          img,\n          price\n        },\n        {headers: {authorization: `Bearer ${token}`}}\n        )\n        if(response.status===201){\n          // show alert update done\n          alert(`Decoration : ${name} updated successfully`)\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    const deleteDecoration = async ()=>{\n      try {\n        const response = await axios.delete(`http://localhost:5000/decoration/${decorationId}`,\n        {headers: {authorization: `Bearer ${token}`}}\n        )\n        if(response.status===201){\n          // show alert update done\n          alert(`Decoration : ${response.data.name} deleted successfully with all reservations`)\n          history.push('/decoration')\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    }\n \n    return (\n        <div className='container'>\n                {user.isAdmin ?\n                  <div className=\"card m-2\" style={{width: 300}}>\n                    <img src={img} className=\"card-img-top\" alt=\"\" />\n                    <div className=\"card-body\">\n                      <h3>Update Decoration</h3>\n                      <h5 className=\"card-title\">Name: {name}</h5>\n                      <p className=\"card-text\">Description: {description}</p>\n                      <p className=\"card-text\">Price: {price} SR</p>\n                      <input type=\"text\" className=\"form-control mb-2\" placeholder='Name' onChange={(e)=> setName(e.target.value)} />\n                      <input type=\"text\" className=\"form-control mb-2\" placeholder='Decoration' onChange={(e)=> setDescription(e.target.value)} />\n                      <input type=\"text\" className=\"form-control mb-2\" placeholder='Image URL' onChange={(e)=> setImg(e.target.value)} />\n                      <input type=\"number\" className=\"form-control mb-2\" placeholder='price' onChange={(e)=> setPrice(e.target.value)} />\n                      <button className='btn btn-success m-2' onClick={()=>updateDecoration()}>UPDATE</button>\n                      <button className='btn btn-danger' onClick={()=>deleteDecoration()}>DELETE</button>\n                    </div>\n                  </div>\n                  :\n                  // https://getbootstrap.com/docs/5.1/components/card/\n                  <div className=\"card m-2\" style={{width: 300}}>\n                    <img src={img} className=\"card-img-top\" alt=\"\" />\n                    <div className=\"card-body\">\n                      <h5 className=\"card-title\">{name}</h5>\n                      <p className=\"card-text\">{description}</p>\n                      <p className=\"card-text\">{price} SR</p>\n                      {reservation ? \n                        <button className='btn btn-dark' onClick={ ()=>cancelReservation() }>CANCEL</button> \n                        :\n                        <button className='btn btn-info' onClick={ ()=>postReserve() }>RESERVE</button>\n                      }\n                    </div>\n                  </div>\n                }\n        </div>\n    )\n}\n\nexport default OneDecoration\n","C:\\Users\\laser\\Desktop\\project final\\frontend-final\\src\\components\\UserReservation.js",[],"C:\\Users\\laser\\Desktop\\project final\\frontend-final\\src\\components\\Home.js",[],{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","replacedBy":"57"},{"ruleId":"58","severity":1,"message":"59","line":31,"column":42,"nodeType":"60","messageId":"61","endLine":31,"endColumn":44},{"ruleId":"62","severity":1,"message":"63","line":41,"column":8,"nodeType":"64","endLine":41,"endColumn":10,"suggestions":"65"},{"ruleId":"66","severity":1,"message":"67","line":49,"column":17,"nodeType":"68","messageId":"69","endLine":49,"endColumn":25},{"ruleId":"66","severity":1,"message":"67","line":66,"column":17,"nodeType":"68","messageId":"69","endLine":66,"endColumn":25},"no-native-reassign",["70"],"no-negated-in-lhs",["71"],"array-callback-return","Array.prototype.filter() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'history', 'id', and 'token'. Either include them or remove the dependency array.","ArrayExpression",["72"],"no-unused-vars","'response' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation",{"desc":"73","fix":"74"},"Update the dependencies array to be: [history, id, token]",{"range":"75","text":"76"},[1369,1371],"[history, id, token]"]