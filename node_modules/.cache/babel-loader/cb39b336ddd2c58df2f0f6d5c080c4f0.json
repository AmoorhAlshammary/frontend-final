{"ast":null,"code":"// import {useEffect, useState} from 'react';\n// import { useHistory, useParams } from 'react-router-dom';\n// import axios from 'axios';\n// import './OneDecoration.css';\n// function OneDecoration({token, user}) {\n//     const { id } = useParams();\n//     console.log(id);\n//     const [decorationId, setDecorationId] = useState('')\n//     const [name, setName] = useState('')\n//     const [description, setDescription] = useState('')\n//     const [price, setPrice] = useState(0)\n//     const [img, setImg] = useState('') \n//     const [reservation, setReservation] = useState(null);\n//     const history = useHistory();\n//     //  ست, تعرض البيانات وتتعدل عليها\n//     // ا يوز افكت,تنفذ مره وحده في الكمبوننت \n//     // اوتشتغل اول مايفتح الكمبوننت\n//     useEffect(()=> {\n//       const getOneDecoration = async ()=>{\n//           if(token){\n//             // console.log(token,\"kkkkkk\");\n//             const response = await axios.get(`http://localhost:5000/decoration/${id}`, { headers: { authorization: `Bearer ${token}` } });\n//             // console.log(response.data);\n//             setDecorationId(response.data.oneDecoration._id);\n//             setName(response.data.oneDecoration.name);\n//             setDescription(response.data.oneDecoration.description);\n//             setImg(response.data.oneDecoration.img);\n//             setPrice(response.data.oneDecoration.price);\n//             setReservation(response.data.reservation);\n//           }else{\n//             history.push('/login');\n//           }\n//       }\n//         getOneDecoration();\n//     }, []);\n//     const postReserve = async () => {\n//       // console.log(decorationId, user._id)\n//         try {\n//           const response = await axios.post(\"http://localhost:5000/reservation\", {\n//             decorationId: decorationId,\n//             userId: user._id,\n//             date: new Date()\n//           },\n//             { headers: { authorization: `Bearer ${token}` } }\n//           )\n//           console.log(response)\n//           history.push(`/reservation/${user._id}`)\n//         } catch (error) {\n//           console.log(error)\n//         }\n//     }\n//     const cancelReservation = async () => {\n//         try {\n//           const response = await axios.delete(`http://localhost:5000/reservation/${reservation._id}`,\n//             { headers: { authorization: `Bearer ${token}` } }\n//           )\n//           console.log(response)\n//           history.push('/decoration')\n//         } catch (error) {\n//           console.log(error)\n//         }\n//     }\n//     // admin functions\n//     const updateDecoration = async ()=>{\n//       try {\n//         const response = await axios.put('http://localhost:5000/decoration',{\n//           id: decorationId,\n//           name,\n//           description,\n//           img,\n//           price\n//         },\n//         {headers: {authorization: `Bearer ${token}`}}\n//         )\n//         if(response.status===201){\n//           // show alert update done\n//           alert(`Decoration : ${name} updated successfully`)\n//         }\n//       } catch (error) {\n//         console.log(error);\n//       }\n//     }\n//     const deleteDecoration = async ()=>{\n//       try {\n//         const response = await axios.delete(`http://localhost:5000/decoration/${decorationId}`,\n//         {headers: {authorization: `Bearer ${token}`}}\n//         )\n//         if(response.status===201){\n//           // show alert update done\n//           alert(`Decoration : ${response.data.name} deleted successfully with all reservations`)\n//           history.push('/decoration')\n//         }\n//       } catch (error) {\n//         console.log(error);\n//       }\n//     }\n//     return (\n//         <div className='decoration-item-container'>\n//             <div className='decoration-item'>\n//               <div className='decoration-img'>\n//                 <img src={img} alt={name} />\n//               </div>\n//               <div className='decoration-info'>\n//                 {user.isAdmin ?\n//                   <>\n//                     <h3>Update Decoration</h3>\n//                     <input type=\"text\" placeholder='Name' onChange={(e)=> setName(e.target.value)} />\n//                     <input type=\"text\" placeholder='Decoration' onChange={(e)=> setDescription(e.target.value)} />\n//                     <input type=\"text\" placeholder='Image URL' onChange={(e)=> setImg(e.target.value)} />\n//                     <input type=\"number\" placeholder='price' onChange={(e)=> setPrice(e.target.value)} />\n//                     <button onClick={()=>updateDecoration()}>UPDATE</button>\n//                     <button onClick={()=>deleteDecoration()}>DELETE</button>\n//                   </>\n//                   :\n//                   <>\n//                     <h5>Name : {name} {reservation ? 'reserved' : null }</h5>\n//                     <p>Description : {description}</p>\n//                     {reservation ?\n//                       <button onClick={ ()=>cancelReservation() }>CANCEL</button> \n//                       :\n//                       <button onClick={ ()=>postReserve() }>RESERVE</button>\n//                     }\n//                   </>\n//                     //  استدعي الفاينكشن لامن اضغط ع زر\n//                 }\n//               </div>\n//             </div>\n//         </div>\n//     )\n// }\n// export default OneDecoration","map":{"version":3,"sources":["C:/Users/laser/Desktop/project final/frontend-final/src/components/OneDecoration.js"],"names":[],"mappings":"AAAA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["// import {useEffect, useState} from 'react';\n// import { useHistory, useParams } from 'react-router-dom';\n// import axios from 'axios';\n\n\n// import './OneDecoration.css';\n\n// function OneDecoration({token, user}) {\n//     const { id } = useParams();\n//     console.log(id);\n//     const [decorationId, setDecorationId] = useState('')\n//     const [name, setName] = useState('')\n//     const [description, setDescription] = useState('')\n//     const [price, setPrice] = useState(0)\n//     const [img, setImg] = useState('') \n\n//     const [reservation, setReservation] = useState(null);\n\n//     const history = useHistory();\n\n\n//     //  ست, تعرض البيانات وتتعدل عليها\n//     // ا يوز افكت,تنفذ مره وحده في الكمبوننت \n//     // اوتشتغل اول مايفتح الكمبوننت\n//     useEffect(()=> {\n//       const getOneDecoration = async ()=>{\n//           if(token){\n//             // console.log(token,\"kkkkkk\");\n//             const response = await axios.get(`http://localhost:5000/decoration/${id}`, { headers: { authorization: `Bearer ${token}` } });\n//             // console.log(response.data);\n//             setDecorationId(response.data.oneDecoration._id);\n//             setName(response.data.oneDecoration.name);\n//             setDescription(response.data.oneDecoration.description);\n//             setImg(response.data.oneDecoration.img);\n//             setPrice(response.data.oneDecoration.price);\n\n//             setReservation(response.data.reservation);\n            \n//           }else{\n//             history.push('/login');\n//           }\n//       }\n//         getOneDecoration();\n//     }, []);\n\n\n\n//     const postReserve = async () => {\n//       // console.log(decorationId, user._id)\n//         try {\n//           const response = await axios.post(\"http://localhost:5000/reservation\", {\n//             decorationId: decorationId,\n//             userId: user._id,\n//             date: new Date()\n//           },\n//             { headers: { authorization: `Bearer ${token}` } }\n//           )\n//           console.log(response)\n//           history.push(`/reservation/${user._id}`)\n//         } catch (error) {\n//           console.log(error)\n//         }\n//     }\n\n//     const cancelReservation = async () => {\n//         try {\n//           const response = await axios.delete(`http://localhost:5000/reservation/${reservation._id}`,\n//             { headers: { authorization: `Bearer ${token}` } }\n//           )\n//           console.log(response)\n//           history.push('/decoration')\n//         } catch (error) {\n//           console.log(error)\n//         }\n//     }\n\n\n//     // admin functions\n//     const updateDecoration = async ()=>{\n//       try {\n//         const response = await axios.put('http://localhost:5000/decoration',{\n//           id: decorationId,\n//           name,\n//           description,\n//           img,\n//           price\n//         },\n//         {headers: {authorization: `Bearer ${token}`}}\n//         )\n//         if(response.status===201){\n//           // show alert update done\n//           alert(`Decoration : ${name} updated successfully`)\n//         }\n//       } catch (error) {\n//         console.log(error);\n//       }\n//     }\n\n//     const deleteDecoration = async ()=>{\n//       try {\n//         const response = await axios.delete(`http://localhost:5000/decoration/${decorationId}`,\n//         {headers: {authorization: `Bearer ${token}`}}\n//         )\n//         if(response.status===201){\n//           // show alert update done\n//           alert(`Decoration : ${response.data.name} deleted successfully with all reservations`)\n//           history.push('/decoration')\n//         }\n//       } catch (error) {\n//         console.log(error);\n//       }\n//     }\n\n//     return (\n//         <div className='decoration-item-container'>\n//             <div className='decoration-item'>\n//               <div className='decoration-img'>\n//                 <img src={img} alt={name} />\n//               </div>\n//               <div className='decoration-info'>\n//                 {user.isAdmin ?\n//                   <>\n//                     <h3>Update Decoration</h3>\n//                     <input type=\"text\" placeholder='Name' onChange={(e)=> setName(e.target.value)} />\n//                     <input type=\"text\" placeholder='Decoration' onChange={(e)=> setDescription(e.target.value)} />\n//                     <input type=\"text\" placeholder='Image URL' onChange={(e)=> setImg(e.target.value)} />\n//                     <input type=\"number\" placeholder='price' onChange={(e)=> setPrice(e.target.value)} />\n//                     <button onClick={()=>updateDecoration()}>UPDATE</button>\n//                     <button onClick={()=>deleteDecoration()}>DELETE</button>\n//                   </>\n//                   :\n//                   <>\n//                     <h5>Name : {name} {reservation ? 'reserved' : null }</h5>\n//                     <p>Description : {description}</p>\n//                     {reservation ?\n//                       <button onClick={ ()=>cancelReservation() }>CANCEL</button> \n//                       :\n//                       <button onClick={ ()=>postReserve() }>RESERVE</button>\n//                     }\n//                   </>\n//                     //  استدعي الفاينكشن لامن اضغط ع زر\n//                 }\n//               </div>\n//             </div>\n//         </div>\n//     )\n// }\n\n// export default OneDecoration\n"]},"metadata":{},"sourceType":"module"}